```admonish warning 
**本章施工中**
```

<!-- toc -->

# 等价的计算模型
```admonish tip title="本章的学习目标"
- 了解RAM机（RAM Machine）与$\lambda$演算（$\lambda$ Calculus）
- 掌握这些模型与图灵机及其他模型的等价关系
- 认识元胞自动机（Cellular Automata）与各种图灵机格局
- 理解Church-Turing论题
```

```admonish quote title=""
“计算机科学的所有问题都可以通过增加一层间接寻址来解决”

*——大卫·惠勒（David Wheeler）*
```

```admonish quote title=""
“由于后续我们将使用函数表达式进行计算，必须区分函数与形式，并需要相应的表示法。这一区分及其描述记法由Church提出，我们仅作细微调整。”

*——约翰·麦卡锡（John McCarthy），1960年（摘自描述LISP编程语言的论文）*
```

到目前为止，我们已经定义了使用图灵机计算函数的概念，但这与实际的计算方法并不完全吻合。本章将通过证明可计算函数的定义在各种计算模型下保持不变，来论证这一选择的合理性。这一概念被称为*图灵完备性*（Church completeness）或*图灵等价性*（Church equivalence），是计算机科学中最基本的事实之一。实际上，被广泛认同的*Church-Turing论题*做了出了如下主张：任何对可计算函数的“合理”定义，都等价于通过图灵机可计算的概念。我们将在[8.8节](#88-church-turing论题讨论)讨论Church-Turing论题以及“合理”的可能定义。

本章讨论的主要计算模型包括：

- **RAM机**：图灵机与具备随机存取存储器（RAM，Random Access Memory）的标准计算架构并不对应，RAM机的数学模型更接近实际计算机，但我们将看到它在计算能力上与图灵机等价。我们还将讨论RAM机的一种编程语言变体，称之为NAND-RAM。图灵机与RAM机的等价性使得我们能够证明诸多流行编程语言的图灵等价性，包括现实中使用的所有通用编程语言，如C、Python、JavaScript等。
- **元胞自动机**：许多自然的和人工的系统都可以被建模为简单组件的集合，每个组件根据其自身状态及其直接邻居的状态，按照简单的规则进行演化。一个著名的例子是[康威的生命游戏](https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life)（Conway's Game of Life）。为了证明元胞自动机与图灵机等价，我们将引入*图灵机格局*（configurations of Turing machines）。这些格局还有其他应用，特别是在[第11章](./chapter_11.md)用于证明哥德尔不完备定理——数学中的一个核心结果。
- $\lambda$**演算**：$\lambda$演算是一种表达计算模型，起源于20世纪30年代，不过它与当今广泛使用的函数式编程语言密切相关。证明$\lambda$演算与图灵机等价涉及一种名为“Y组合子”（Y Combinator）的消除递归的巧妙方法。

```admonish tip title="本章的一个非数学化概览"
本章中我们将研究不同模型间的等价性。如果两个计算模型能够计算的函数构成的集合是相同的，则称它们是*等价*的（也称之为*图灵等价*）。例如，我们已经看到图灵机与NAND-TM程序是等价的，因为我们可以将每个图灵机转换为计算相同函数的NAND-TM程序，同样地，也可以将每个NAND-TM程序转换为计算相同函数的图灵机。

本章我们将证明这种等价性远不止于图灵机。我们开发的技术使我们能够证明所有通用编程语言（即Python、C、Java等）都是*图灵完备的*，即它们能够模拟图灵机，因此能够计算所有图灵机可计算的函数。我们还将证明其反向亦成立——图灵机可以用来模拟用任何这些语言编写的程序，因此能够计算这些语言可计算的任何函数。这意味着所有这些编程语言都是*图灵等价*的：即它们在计算能力上等价于图灵机，并且彼此等价。这是一个强大的原理，是计算机科学广泛影响的基础。此外，它使我们能够“鱼和熊掌兼得”——既然所有这些模型都是等价的，我们可以为手头的任务选择方便的模型。为了实现这种等价性，我们定义了一种新的计算模型，称为RAM机。RAM机比图灵机更接近现代计算机的架构，但在计算能力上仍然与图灵机等价。

最后，我们将证明图灵等价性远不止于传统编程语言，作为极其简单的自然系统的数学模型的*元胞自动机*也是图灵等价的，并且我们还将看到$\lambda$演算的图灵等价性——$\lambda$演算是一种用于表达函数的逻辑系统，是Lisp、OCaml等*函数式编程语言*的基础。

本章成果概览见[图8.1]。
```

```admonish quote title="图8.1"
<span id="i81"> ![](./images/chapter8/turingcomplete.png)</span>
*一些图灵等价模型。所有这些模型在计算能力上都与图灵机（或等价的NAND-TM程序）等价，因为它们能够计算完全相同的函数类。所有这些模型都是用于计算接受无界长度输入的无限函数的模型。相比之下，布尔电路/NAND-CIRC程序只能计算有限函数，因此不是图灵完备的。*
```

## 8.1 RAM机与NAND-RAM

## 8.2 具体细节（可选）

### 8.2.1 NAND-TM中的索引访问

### 8.2.2 NAND-TM中的二维数组

### 8.2.3 其他细节

## 8.3 图灵等价性（讨论）

### 8.3.1 “两全其美”的范式

### 8.3.2 浅谈抽象层次

### 8.3.3 图灵完备性与等价性的形式化定义（可选）

## 8.4 元胞自动机

### 8.4.1 一维元胞自动机的图灵完备性

### 8.4.2 图灵机格局与状态转移函数

## 8.5 $\lambda$演算与函数式编程语言

### 8.5.1 函数的高阶应用

### 8.5.2 通过柯里化实现多参数函数

### 8.5.3 $\lambda$演算的形式化描述

### 8.5.4 $\lambda$演算中的无限循环

## 8.6 增强$\lambda$演算

### 8.6.1 增强$\lambda$演算中的函数计算

### 8.6.2 增强$\lambda$演算的图灵完备性

## 8.7 从增强$\lambda$演算到纯$\lambda$演算

### 8.7.1 列表处理

### 8.7.2 Y组合子：不需要递归的递归

## 8.8 Church-Turing论题（讨论）

### 8.8.1 不同的计算模型

## 8.9 习题

## 8.10 参考文献